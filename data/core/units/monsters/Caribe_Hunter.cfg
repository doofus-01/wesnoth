#textdomain wesnoth-units

#define CARIBE_IMAGE_PATH
units/monsters/caribe#enddef

[unit_type]
    id=Hunter Caribe
    name= _ "Hunter Caribe"
    race=monster
    image="{CARIBE_IMAGE_PATH}/caribe-shadow.png~BLIT("{CARIBE_IMAGE_PATH}/caribe-default.png")"
    profile="portraits/monsters/caribe-hunter.webp"
    hitpoints=46
    # needs some adjustment
    movement_type=deepsea
    [resistance]
        arcane=100
        pierce=90
        impact=80
    [/resistance]
    movement=8
    experience=40
    level=2
    alignment=neutral
    advances_to=null
    {AMLA_DEFAULT}
    cost=25
    undead_variation=serpent
    usage=fighter
    description= _ "The giant caribe are seldom encountered in the inland rivers near Weldyn, but tales of their ferocious attacks have spread far and wide.  Their angry red eyes are embedded in an armored face.  While it is their teeth that are a dangerous weapon, they do posses small, bony arms and claws, which they can use to extricate themselves from situations dire to most other fish.  The giant caribe can climb over land and untie fishing nets, some have said they even commune with the saurian augers.  Whatever the truth, these fish are unusually clever and should not be understimated."
    die_sound=water-blast.wav
    [abilities]
        {ABILITY_SKIRMISHER}
    [/abilities]
    [defend]
        start_time=-126
        terrain_type=W*,W*^Wkf
        offset=0:110,0~-0.2:42,-0.2~0:100
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-defend-[1,2,1].png~MASK({CARIBE_IMAGE_PATH}/caribe-mask.png):[1,250,1]
        [/frame]
        [if]
            hit_sound_start_time=-25
            hits=hit
            [hit_sound_frame]
                sound=hiss-hit.wav
            [/hit_sound_frame]
        [/if]
    [/defend]
    [defend]
        start_time=-126
        terrain_type=!,W*,W*^Wkf
        offset=0:110,0~-0.1:42,-0.1~0:100
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-land.png
        [/frame]
        [if]
            hit_sound_start_time=-25
            hits=hit
            [hit_sound_frame]
                sound=hiss-hit.wav
            [/hit_sound_frame]
        [/if]
    [/defend]
    [movement_anim]
        start_time=0
        fish_start_time=0
        fish_y=1:250,1~3:600,3:150,3~1:600
        fish_offset="0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200,0~1:200"
        terrain_type=W*,W*^Wkf
        alpha=0.3
        [fish_frame]
            image={CARIBE_IMAGE_PATH}/caribe-[hi,default,lo,default].png~MASK({CARIBE_IMAGE_PATH}/caribe-mask.png):[400*4]
            auto_vflip=no
            # submerge=0.45
        [/fish_frame]
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-shadow.png:1600
            layer=2
        [/frame]
    [/movement_anim]
    [movement_anim]
        start_time=0
        terrain_type=!,W*,W*^Wkf
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-land.png
        [/frame]
    [/movement_anim]
    [standing_anim]
        start_time=0
        fish_start_time=0
        fish_y=1:250,1~3:600,3:150,3~1:600
        terrain_type=W*,W*^Wkf
        alpha=0.3
        [fish_frame]
            image={CARIBE_IMAGE_PATH}/caribe-[hi,default,lo,default].png~MASK({CARIBE_IMAGE_PATH}/caribe-mask.png):[400*4]
            auto_vflip=no
            # submerge=0.45
        [/fish_frame]
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-shadow.png:1600
            layer=2
        [/frame]
    [/standing_anim]
    [standing_anim]
        start_time=0
        terrain_type=!,W*,W*^Wkf
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-land.png
        [/frame]
    [/standing_anim]
    [attack]
        name=fangs
        description=_"fangs"
        icon=attacks/fangs.png
        type=pierce
        range=melee
        damage=8
        number=4
    [/attack]
    [attack]
        name=entangle
        description=_"entangle"
        type=impact
        [specials]
            {WEAPON_SPECIAL_SLOW}
        [/specials]
        damage=4
        number=2
        range=ranged
    [/attack]
    [attack_anim]
        [filter_attack]
            name=fangs
        [/filter_attack]
        terrain_type=W*,W*^Wkf
        start_time=-250
        offset=0~-0.1:75,-0.1~0.65:175,0.65~0:250
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-[default,attack-1,attack-2,default].png~MASK({CARIBE_IMAGE_PATH}/caribe-mask.png):[50,125,150,175]
        [/frame]
        {SOUND:HIT_AND_MISS bite.ogg {SOUND_LIST:MISS} -100}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=fangs
        [/filter_attack]
        terrain_type=!,W*,W*^Wkf
        start_time=-250
        offset=0~-0.1:75,-0.1~0.65:175,0.65~0:250
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-[land,attack-1,attack-2,land].png:[50,125,150,175]
        [/frame]
        {SOUND:HIT_AND_MISS bite.ogg {SOUND_LIST:MISS} -100}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=entangle
        [/filter_attack]
        start_time=-450
        missile_start_time=-150
        offset=0.0~-0.05:300,-0.05~0.05:200,0.05~0.0:120
        y=0:300,0~-5:150,-5~0:170
        [missile_frame]
            duration=150
            image="projectiles/entangle.png"
            image_diagonal="projectiles/entangle.png"
        [/missile_frame]
        [frame]
            image={CARIBE_IMAGE_PATH}/caribe-sling[1~5].png:[100*3,200,120]
        [/frame]
        {SOUND:HIT_AND_MISS entangle.wav {SOUND_LIST:MISS} -100}
    [/attack_anim]
[/unit_type]

#undef CARIBE_IMAGE_PATH
